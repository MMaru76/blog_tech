<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>【AWS API Gateway】キャッシュ有効化時の解説と有効化手順 | Tabiya Tech</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" type="image/jpg" href="/favicon.ico">
    <meta name="description" content="インフラ関連をアウトプット">
    <meta name="keywords" content="vuepress, netlify">
    <meta name="og:title" content="Tabiya Tech">
    <meta name="og:description" content="インフラ関連をアウトプット">
    <meta name="og:type" content="website">
    <meta name="og:url" content="https://tabiya.dev/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@M_Maru76">
    <meta name="og:image" content="https://i.gyazo.com/b50249f536d4cfac7f8a015804b440d8.png">
    <link rel="preload" href="/assets/css/0.styles.069516ce.css" as="style"><link rel="preload" href="/assets/js/app.1b378f6c.js" as="script"><link rel="preload" href="/assets/js/3.3bd2fb37.js" as="script"><link rel="preload" href="/assets/js/1.2384bd57.js" as="script"><link rel="preload" href="/assets/js/24.e72e74de.js" as="script"><link rel="prefetch" href="/assets/js/10.428023ef.js"><link rel="prefetch" href="/assets/js/11.2fb4a8c6.js"><link rel="prefetch" href="/assets/js/12.34164f7e.js"><link rel="prefetch" href="/assets/js/13.aebd5f5b.js"><link rel="prefetch" href="/assets/js/14.22f319c6.js"><link rel="prefetch" href="/assets/js/15.82d4d73e.js"><link rel="prefetch" href="/assets/js/16.808199e8.js"><link rel="prefetch" href="/assets/js/17.bd26bc48.js"><link rel="prefetch" href="/assets/js/18.a3dc6437.js"><link rel="prefetch" href="/assets/js/19.4cc65537.js"><link rel="prefetch" href="/assets/js/20.e0d3238b.js"><link rel="prefetch" href="/assets/js/21.5ba8f0e8.js"><link rel="prefetch" href="/assets/js/22.4e450e79.js"><link rel="prefetch" href="/assets/js/23.594f2182.js"><link rel="prefetch" href="/assets/js/25.e3fb1199.js"><link rel="prefetch" href="/assets/js/26.cc05b575.js"><link rel="prefetch" href="/assets/js/27.38c56cee.js"><link rel="prefetch" href="/assets/js/28.8bfb72b9.js"><link rel="prefetch" href="/assets/js/29.06995499.js"><link rel="prefetch" href="/assets/js/30.10e3dda0.js"><link rel="prefetch" href="/assets/js/31.380293d9.js"><link rel="prefetch" href="/assets/js/32.87967004.js"><link rel="prefetch" href="/assets/js/33.37ea80a8.js"><link rel="prefetch" href="/assets/js/34.dd10e3ea.js"><link rel="prefetch" href="/assets/js/35.22a4120b.js"><link rel="prefetch" href="/assets/js/36.37d160a3.js"><link rel="prefetch" href="/assets/js/37.cc5485b9.js"><link rel="prefetch" href="/assets/js/38.1dc0b3d8.js"><link rel="prefetch" href="/assets/js/39.b733d54e.js"><link rel="prefetch" href="/assets/js/4.dd62c9dc.js"><link rel="prefetch" href="/assets/js/40.75fdcd44.js"><link rel="prefetch" href="/assets/js/41.24c837a1.js"><link rel="prefetch" href="/assets/js/42.c686d49e.js"><link rel="prefetch" href="/assets/js/43.1a49019a.js"><link rel="prefetch" href="/assets/js/44.54178cd8.js"><link rel="prefetch" href="/assets/js/45.e9a1eb54.js"><link rel="prefetch" href="/assets/js/46.a804e21b.js"><link rel="prefetch" href="/assets/js/47.480f6cf1.js"><link rel="prefetch" href="/assets/js/48.98f251e1.js"><link rel="prefetch" href="/assets/js/49.c560289f.js"><link rel="prefetch" href="/assets/js/5.2636f6cc.js"><link rel="prefetch" href="/assets/js/50.a2813c51.js"><link rel="prefetch" href="/assets/js/51.f1de8586.js"><link rel="prefetch" href="/assets/js/52.daf278be.js"><link rel="prefetch" href="/assets/js/6.46f82033.js"><link rel="prefetch" href="/assets/js/7.de697a5f.js"><link rel="prefetch" href="/assets/js/8.72d5e208.js"><link rel="prefetch" href="/assets/js/9.75c71ab1.js">
    <link rel="stylesheet" href="/assets/css/0.styles.069516ce.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-dad8a512><div data-v-dad8a512><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-dad8a512 data-v-dad8a512><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-dad8a512 data-v-dad8a512><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>Tabiya Tech</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>まるちゃん</span>
            
          <!---->
          2020
        </a></span></div></div> <div class="hide" data-v-dad8a512><header class="navbar" data-v-dad8a512><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Tabiya Tech</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/AWS/" class="nav-link"><i class="iconfont undefined"></i>
  AWS
</a></li><li class="dropdown-item"><!----> <a href="/categories/Datadog/" class="nav-link"><i class="iconfont undefined"></i>
  Datadog
</a></li><li class="dropdown-item"><!----> <a href="/categories/Docker/" class="nav-link"><i class="iconfont undefined"></i>
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/categories/Linux/" class="nav-link"><i class="iconfont undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/categories/Kubernetes/" class="nav-link"><i class="iconfont undefined"></i>
  Kubernetes
</a></li><li class="dropdown-item"><!----> <a href="/categories/Minecraft/" class="nav-link"><i class="iconfont undefined"></i>
  Minecraft
</a></li><li class="dropdown-item"><!----> <a href="/categories/Terraform/" class="nav-link"><i class="iconfont undefined"></i>
  Terraform
</a></li><li class="dropdown-item"><!----> <a href="/categories/Programming language/" class="nav-link"><i class="iconfont undefined"></i>
  Programming language
</a></li><li class="dropdown-item"><!----> <a href="/categories/仮想環境/" class="nav-link"><i class="iconfont undefined"></i>
  仮想環境
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/MMaru76" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://twitter.com/M_Maru76" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-twitter"></i>
  Twitter
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://tabiya.jp/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-blog"></i>
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://qiita.com/MMaru76" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-qiita"></i>
  Qiita
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-dad8a512></div> <aside class="sidebar" data-v-dad8a512><div class="personal-info-wrapper" data-v-ca798c94 data-v-dad8a512><img src="https://avatars3.githubusercontent.com/u/20497766?s=460&amp;v=4" alt="author-avatar" class="personal-img" data-v-ca798c94> <h3 class="name" data-v-ca798c94>
    まるちゃん
  </h3> <div class="num" data-v-ca798c94><div data-v-ca798c94><h3 data-v-ca798c94>34</h3> <h6 data-v-ca798c94>Article</h6></div> <div data-v-ca798c94><h3 data-v-ca798c94>37</h3> <h6 data-v-ca798c94>Tag</h6></div></div> <hr data-v-ca798c94></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/AWS/" class="nav-link"><i class="iconfont undefined"></i>
  AWS
</a></li><li class="dropdown-item"><!----> <a href="/categories/Datadog/" class="nav-link"><i class="iconfont undefined"></i>
  Datadog
</a></li><li class="dropdown-item"><!----> <a href="/categories/Docker/" class="nav-link"><i class="iconfont undefined"></i>
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/categories/Linux/" class="nav-link"><i class="iconfont undefined"></i>
  Linux
</a></li><li class="dropdown-item"><!----> <a href="/categories/Kubernetes/" class="nav-link"><i class="iconfont undefined"></i>
  Kubernetes
</a></li><li class="dropdown-item"><!----> <a href="/categories/Minecraft/" class="nav-link"><i class="iconfont undefined"></i>
  Minecraft
</a></li><li class="dropdown-item"><!----> <a href="/categories/Terraform/" class="nav-link"><i class="iconfont undefined"></i>
  Terraform
</a></li><li class="dropdown-item"><!----> <a href="/categories/Programming language/" class="nav-link"><i class="iconfont undefined"></i>
  Programming language
</a></li><li class="dropdown-item"><!----> <a href="/categories/仮想環境/" class="nav-link"><i class="iconfont undefined"></i>
  仮想環境
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/MMaru76" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://twitter.com/M_Maru76" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-twitter"></i>
  Twitter
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://tabiya.jp/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-blog"></i>
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://qiita.com/MMaru76" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-qiita"></i>
  Qiita
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-dad8a512><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>【AWS API Gateway】キャッシュ有効化時の解説と有効化手順</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>まるちゃん</span>
            
          <!---->
          2020
        </a></span></div></div> <div data-v-dad8a512><main class="page"><div class="page-title" style="display:none;"><h1>【AWS API Gateway】キャッシュ有効化時の解説と有効化手順</h1> <div data-v-3b7f5bdf><i class="iconfont reco-account" data-v-3b7f5bdf><span data-v-3b7f5bdf>まるちゃん</span></i> <i class="iconfont reco-date" data-v-3b7f5bdf><span data-v-3b7f5bdf>2020-10-30</span></i> <!----> <i class="iconfont reco-tag tags" data-v-3b7f5bdf><span class="tag-item" data-v-3b7f5bdf>API Gateway</span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><h2 id="_1-はじめに"><a href="#_1-はじめに" class="header-anchor">#</a> 1. はじめに</h2> <p>書く書くと言って約 <em>1</em> ヶ月半が経ちました｡</p> <blockquote class="twitter-tweet"><p lang="ja" dir="ltr">API Gatewayのキャッシュ機能について完全にマスターしたのでBlogを書く｡<br><br>キャッシュ設定とリソースポリシーは別機能になります( ･ิω･ิ)</p>— まるちゃんLv24@DevOps (@M_Maru76) <a href="https://twitter.com/M_Maru76/status/1305670324491489284?ref_src=twsrc%5Etfw">September 15, 2020</a></blockquote> <script async="async" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> <p>そして､AWS API Gateway のキャッシュを触っていて辛かった事は､【リソースポリシー】で操作が出来ると思ってポリシーを書きまくって､動作テストしても動かない･･･【リソースポリシー】って全く関係が無かった｡</p> <p>今回は下記2本だてです｡</p> <ul><li>【2. API Gatewat キャッシュ有効時の挙動について】</li> <li>【3. API Gateway キャッシュ有効化手順】</li> <li>【4. API Gateway メトリクス】</li></ul> <hr> <hr> <h2 id="_2-api-gatewat-キャッシュ有効時の挙動について"><a href="#_2-api-gatewat-キャッシュ有効時の挙動について" class="header-anchor">#</a> 2. API Gatewat キャッシュ有効時の挙動について</h2> <h3 id="_2-1-api-gateway-キャッシュ-の概要"><a href="#_2-1-api-gateway-キャッシュ-の概要" class="header-anchor">#</a> 2.1. API Gateway キャッシュ の概要</h3> <hr> <p>API キャッシュを有効にして、エンドポイントのレスポンスがキャッシュ</p> <ul><li>エンドポイントへの呼び出しの数を減らすことが可能</li> <li>API へのリクエストの低レイテンシーを実現可能</li></ul> <p>ステージに対してキャッシュを有効にすると、API Gateway は、秒単位で指定した有効期限 (TTL) が切れるまで、エンドポイントからのレスポンスをキャッシュします。
その後、API Gateway は、エンドポイントへのリクエストを行う代わりに、キャッシュからのエンドポイントレスポンスを調べてリクエストに応答します。</p> <p><a href="https://gyazo.com/993a639e3423a655ca9b3b10df531eb0" target="_blank" rel="noopener noreferrer"><img src="https://i.gyazo.com/993a639e3423a655ca9b3b10df531eb0.png" alt="Image from Gyazo"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <blockquote><p>引用先 : <a href="https://d1.awsstatic.com/webinars/jp/pdf/services/20190514_AWS-Blackbelt_APIGateway_rev.pdf" target="_blank" rel="noopener noreferrer">[AWS Black Belt Online Seminar]Amazon API Gateway サービスカットシリーズ : 62p<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h3 id="_2-2-キャッシュ可能メソッドについて"><a href="#_2-2-キャッシュ可能メソッドについて" class="header-anchor">#</a> 2.2. キャッシュ可能メソッドについて</h3> <hr> <ul><li>指定したステージのレスポンス結果を保持</li> <li>デフォルトは 【GETメソッド】のみキャッシュされる</li> <li>オーバーライドするメソッドの設定を行う事により【POSTメソッド】などもキャッシュ可能</li></ul> <p>ステージ有効化にしている際に限り､オーバーライド設定を行う事によって､【POSTメソッド】などもキャッシュが有効化可能｡</p> <table><thead><tr><th style="text-align:center;">項目</th> <th style="text-align:center;">値</th></tr></thead> <tbody><tr><td style="text-align:center;">GET メソッド</td> <td style="text-align:center;">デフォルトキャッシュ</td></tr> <tr><td style="text-align:center;">POST メソッド</td> <td style="text-align:center;">オーバーライド設定必要</td></tr> <tr><td style="text-align:center;">OPTIONS メソッド</td> <td style="text-align:center;">オーバーライド設定必要</td></tr> <tr><td style="text-align:center;">HEAD メソッド</td> <td style="text-align:center;">オーバーライド設定必要</td></tr> <tr><td style="text-align:center;">PATCH メソッド</td> <td style="text-align:center;">オーバーライド設定必要</td></tr> <tr><td style="text-align:center;">PUTメソッド</td> <td style="text-align:center;">オーバーライド設定必要</td></tr> <tr><td style="text-align:center;">DELETE メソッド</td> <td style="text-align:center;">オーバーライド設定必要</td></tr></tbody></table> <div class="custom-block tip"><ul><li>AWS公式ドキュメント : <a href="https://docs.aws.amazon.com/ja_jp/apigateway/latest/developerguide/api-gateway-caching.html" target="_blank" rel="noopener noreferrer">API キャッシュを有効にして応答性を強化する<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>AWS公式ドキュメント : <a href="https://docs.aws.amazon.com/ja_jp/apigateway/latest/developerguide/api-gateway-caching.html#override-api-gateway-stage-cache-for-method-cache" target="_blank" rel="noopener noreferrer">API Gateway ステージレベルのキャッシュをメソッドキャッシュで上書きする<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <h3 id="_2-3-【キャッシュ有効期限】-ttl-期間について"><a href="#_2-3-【キャッシュ有効期限】-ttl-期間について" class="header-anchor">#</a> 2.3. 【キャッシュ有効期限】 TTL 期間について</h3> <hr> <p>｢キャッシュの TTL 期間｣の時間は以下の通り <em>1</em> 秒~ <em>3600</em> 秒 まで可能</p> <table><thead><tr><th style="text-align:center;">項目</th> <th style="text-align:center;">値</th></tr></thead> <tbody><tr><td style="text-align:center;">キャッシュ無効</td> <td style="text-align:center;">0秒</td></tr> <tr><td style="text-align:center;">最低の TTL (Min)</td> <td style="text-align:center;">1秒</td></tr> <tr><td style="text-align:center;">デフォルトの TTL</td> <td style="text-align:center;">300秒(5分)</td></tr> <tr><td style="text-align:center;">最大の TTL (Max)</td> <td style="text-align:center;">3600秒(1時間)</td></tr></tbody></table> <div class="custom-block tip"><p>例 :『特定ステージ』/『特定リソース』/『特定メソッド』に対する TTL 期間とする</p></div> <h3 id="_2-4-【キャッシュキャパシティー】-保存容量について"><a href="#_2-4-【キャッシュキャパシティー】-保存容量について" class="header-anchor">#</a> 2.4. 【キャッシュキャパシティー】 保存容量について</h3> <hr> <p>｢キャッシュキャパシティー｣の容量は以下 <em>8</em> 項目から選択が可能</p> <table><thead><tr><th style="text-align:center;">容量</th> <th style="text-align:center;">料金/時間</th></tr></thead> <tbody><tr><td style="text-align:center;">0.5 GB</td> <td style="text-align:center;">0.02USD</td></tr> <tr><td style="text-align:center;">1.6 GB</td> <td style="text-align:center;">0.038USD</td></tr> <tr><td style="text-align:center;">6.1 GB</td> <td style="text-align:center;">0.20USD</td></tr> <tr><td style="text-align:center;">13.5 GB</td> <td style="text-align:center;">0.25USD</td></tr> <tr><td style="text-align:center;">28.4 GB</td> <td style="text-align:center;">0.50USD</td></tr> <tr><td style="text-align:center;">58.2 GB</td> <td style="text-align:center;">1.00USD</td></tr> <tr><td style="text-align:center;">118 GB</td> <td style="text-align:center;">1.90USD</td></tr> <tr><td style="text-align:center;">237 GB</td> <td style="text-align:center;">3.80USD</td></tr></tbody></table> <div class="custom-block tip"><p>例 :『特定ステージ』/『特定リソース』/『特定メソッド』に対するキャッシュ容量とする</p></div> <div class="custom-block danger"><p class="custom-block-title">注意事項</p> <ul><li>料金は時間単位</li> <li>キャッシュを超えたリクエストについては､API Gateway がバックエンドにリクエストを通す挙動となる</li> <li>複数のリクエストに対するキャッシュ容量</li> <li>キャッシュが可能なレスポンス最大サイズは､ <code>1048576</code> バイト まで</li></ul></div> <h3 id="_2-5-キャッシュ有効化時の注意点"><a href="#_2-5-キャッシュ有効化時の注意点" class="header-anchor">#</a> 2.5. キャッシュ有効化時の注意点</h3> <hr> <ul><li>指定されたステージのデフォルト設定の GET メソッドのみがキャッシュを有効される</li> <li>キャッシュ容量を増やすとパフォーマンス自体は､よくなるがコストも増える</li> <li>キャッシュを有効にした際の初回に限り専用のキャッシュインスタンス作成されるため､最大4~5分ほど掛かる</li> <li>キャッシュの容量を変更するには､既存のキャッシュインスタンス削除後に新規でキャッシュインスタンスを作成というフローになるので､机上計算で最大約 <em>8</em> 分ほど掛かる</li> <li>変更時にキャッシュデータは全て削除</li> <li>キャッシュが可能なレスポンス最大サイズは､ <code>1048576</code> バイト まで</li> <li>暗号化する場合は､キャッシュされている時のレスポンスのサイズから増量される可能性がある</li> <li>複数のリクエストに対するキャッシュ容量である</li> <li>キャッシュを超えたリクエストについては、 API Gateway がバックエンドにリクエストを通す挙動となる</li></ul> <h3 id="_2-6-テスト動作例"><a href="#_2-6-テスト動作例" class="header-anchor">#</a> 2.6. テスト動作例</h3> <hr> <h4 id="_2-6-1-同じ内容を複数回での検証"><a href="#_2-6-1-同じ内容を複数回での検証" class="header-anchor">#</a> 2.6.1. 同じ内容を複数回での検証</h4> <ul><li>1 分間 に <em>2</em> 回実施( <em>0</em> 秒と <em>30</em> 秒)</li> <li>15:00 に連続で <em>5</em> 回実施</li> <li>15:02 に <em>5</em> 秒おきに実施して計 <em>8</em>回実施</li> <li>15:08 に <em>1</em> 回実施</li></ul> <p><a href="https://gyazo.com/94949a4744bf5b06d33859b479930f20" target="_blank" rel="noopener noreferrer"><img src="https://i.gyazo.com/94949a4744bf5b06d33859b479930f20.png" alt="Image from Gyazo"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="_2-6-2-別データでの検証"><a href="#_2-6-2-別データでの検証" class="header-anchor">#</a> 2.6.2. 別データでの検証</h4> <ul><li>キャッシュせずにカウントだけが増量する｡</li></ul> <p><a href="https://gyazo.com/80d3fa696e8a1e5d78841024bc418fae" target="_blank" rel="noopener noreferrer"><img src="https://i.gyazo.com/80d3fa696e8a1e5d78841024bc418fae.png" alt="Image from Gyazo"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <hr> <hr> <h2 id="_3-api-gateway-キャッシュ有効化手順"><a href="#_3-api-gateway-キャッシュ有効化手順" class="header-anchor">#</a> 3. API Gateway キャッシュ有効化手順</h2> <div class="custom-block tip"><p class="custom-block-title">memo</p> <p>複数の『リソース』と『メソッド』があり､特定のリソースのメソッドのみだけをキャッシュ有効化する場合は､こちらの手順が参考になる｡</p></div> <h3 id="_3-1-キャッシュ有効化"><a href="#_3-1-キャッシュ有効化" class="header-anchor">#</a> 3.1. キャッシュ有効化</h3> <hr> <ol><li>AWS マネジメントコンソールから【API Gateway】を選択</li> <li>該当の API を選択</li> <li>左側のツリーから該当【ステージ】→【設定】タブを選択
<ul><li>APIキャッシュを有効化 : チェックを入れる</li> <li>キャッシュキャパシティ :</li> <li>キャッシュ有効期限(TTL) : TTL <em>0</em> 秒</li> <li>【認可が必要】チェックを外す</li></ul></li></ol> <blockquote><p>TTLを0秒にする事により､キャッシュ有効化状態でもキャッシュがされなくなる｡</p></blockquote> <p><a href="https://gyazo.com/9c3f555a90ee71678bcdd3e16cf0470b" target="_blank" rel="noopener noreferrer"><img src="https://i.gyazo.com/9c3f555a90ee71678bcdd3e16cf0470b.png" alt="Image from Gyazo"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="custom-block tip"><p class="custom-block-title">memo</p> <p>【認可が必要】とは?!という方は下記を閲覧</p> <ul><li><a href="https://qiita.com/mth1209/items/abc3e42a3a993546ba7c" target="_blank" rel="noopener noreferrer">【AWS】APIGatewayにキャッシュを設定する際にハマったこと<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div> <h4 id="_3-1-1-想定時の結果として"><a href="#_3-1-1-想定時の結果として" class="header-anchor">#</a> 3.1.1. 想定時の結果として</h4> <p>下記のメトリクスが､ <em>1</em> 以上じゃないこと</p> <ul><li>CacheHitCount</li></ul> <p><a href="https://gyazo.com/e3726aa4606fd65197217f79c50797f3" target="_blank" rel="noopener noreferrer"><img src="https://i.gyazo.com/e3726aa4606fd65197217f79c50797f3.png" alt="Image from Gyazo"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="_3-2-各種リソースのキャッシュ無効化"><a href="#_3-2-各種リソースのキャッシュ無効化" class="header-anchor">#</a> 3.2. 各種リソースのキャッシュ無効化</h3> <hr> <ol><li>AWS マネジメントコンソールから【API Gateway】を選択</li> <li>該当の API を選択</li> <li>左側のツリーから該当【ステージ】を選択して下記を繰り返す
<ul><li>【ステージ名】を選択</li> <li>【リソース】 を選択</li> <li>【メソッド】の GET メソッドを選択</li> <li>【このメソッドの上書き】を選択</li> <li>【メソッドキャッシュの有効化】のチェックを外して保存</li></ul></li></ol> <h4 id="_3-2-1-リクエスト内容が動的な場合"><a href="#_3-2-1-リクエスト内容が動的な場合" class="header-anchor">#</a> 3.2.1. リクエスト内容が動的な場合</h4> <div class="custom-block tip"><p class="custom-block-title">memo</p> <p>ヘッダやパラメータによってレスポンスが変わる場合は､該当の項目についてもキャッシュの識別対象として含めておく必要があり｡</p> <p>例えば以下の <em>2</em> つのリクエストに対して､ id パラメータが異なればそれぞれ個別にキャッシュする必要がある場合は id パラメータをキャッシュの識別対象とする必要がある｡</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>/resource/api?id=123&amp;type=A
/resource/api?id=456&amp;type=B
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>参考先 : AWS 公式ドキュメント <a href="https://docs.aws.amazon.com/ja_jp/apigateway/latest/developerguide/api-gateway-caching.html#enable-api-gateway-cache-keys" target="_blank" rel="noopener noreferrer">メソッドパラメータまたは統合パラメータをキャッシュキーとして使用して、キャッシュされたレスポンスにインデックスを付ける<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote></div> <ol><li>AWS マネジメントコンソールから【API Gateway】を選択</li> <li>該当の API を選択</li> <li>左側のツリーから該当【リソース】→【GET メソッド】→【メソッドリクエスト】を選択
<ul><li>リクエストパス にて</li> <li>名前 : XXXX</li> <li>キャッシュ : チェックを入れる</li> <li><a href="https://gyazo.com/279bc4f788beb1ac450555573499a5a3" target="_blank" rel="noopener noreferrer"><img src="https://i.gyazo.com/279bc4f788beb1ac450555573499a5a3.png" alt="Image from Gyazo"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li>左側のツリーから該当【リソース】→【アクション】→【API のデプロイ】を選択</li> <li>【デプロイされるステージ】は､該当ステージ名を選択して【デプロイ】をクリック
<ul><li><a href="https://gyazo.com/1cd4e42ddaf00855117c4f60ab08451f" target="_blank" rel="noopener noreferrer"><img src="https://i.gyazo.com/1cd4e42ddaf00855117c4f60ab08451f.png" alt="Image from Gyazo"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li>デプロイ後に10分近く待機</li></ol> <h3 id="_3-3-ttl-の有効化"><a href="#_3-3-ttl-の有効化" class="header-anchor">#</a> 3.3. TTL の有効化</h3> <hr> <ol><li>AWS マネジメントコンソールから【API Gateway】を選択</li> <li>該当の API を選択</li> <li>左側のツリーから該当【ステージ】→【設定】タブを選択
<ul><li>キャッシュ設定 にて
<ul><li>キャッシュ有効期限(TTL) : <em>1</em> 秒以上</li></ul></li></ul></li></ol> <blockquote><p>TTL を <em>1</em> 秒以上にする事により､キャッシュ機能が有効になる｡</p></blockquote> <p><a href="https://gyazo.com/5d40fe3b28a11c25a4df0bcc5f743b45" target="_blank" rel="noopener noreferrer"><img src="https://i.gyazo.com/5d40fe3b28a11c25a4df0bcc5f743b45.png" alt="Image from Gyazo"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="_3-3-1-想定時の結果として"><a href="#_3-3-1-想定時の結果として" class="header-anchor">#</a> 3.3.1. 想定時の結果として</h4> <p>下記のメトリクスが､比例していること</p> <ul><li>Count</li> <li>CacheHitCount</li></ul> <p><a href="https://gyazo.com/3e08579a42332961abe83c8043c9728c" target="_blank" rel="noopener noreferrer"><img src="https://i.gyazo.com/3e08579a42332961abe83c8043c9728c.png" alt="Image from Gyazo"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <hr> <hr> <h2 id="_4-api-gateway-メトリクス"><a href="#_4-api-gateway-メトリクス" class="header-anchor">#</a> 4. API Gateway メトリクス</h2> <p>Amazon API Gateway は、CloudWatch にメトリクスデータを毎分送信し､<code>AWS/ApiGateway</code> 名前空間には、下記のメトリクスが含まれます。</p> <table><thead><tr><th style="text-align:center;">メトリクス</th> <th style="text-align:left;">説明</th></tr></thead> <tbody><tr><td style="text-align:center;">4XXError</td> <td style="text-align:left;">指定された期間に取得されたクライアント側エラーの数 <br> Unit: Count</td></tr> <tr><td style="text-align:center;">5XXError</td> <td style="text-align:left;">指定された期間に取得されたサーバー側エラーの数 <br> Unit: Count</td></tr> <tr><td style="text-align:center;">CacheHitCount</td> <td style="text-align:left;">指定された期間内に API キャッシュから配信されたリクエストの数 <br> Unit: Count</td></tr> <tr><td style="text-align:center;">CacheMissCount</td> <td style="text-align:left;">API キャッシュが有効になっている特定の期間における、バックエンドから提供されたリクエストの数 <br> Unit: Count</td></tr> <tr><td style="text-align:center;">Count</td> <td style="text-align:left;">指定された期間内の API リクエストの合計数 <br> Unit: Count</td></tr> <tr><td style="text-align:center;">IntegrationLatency</td> <td style="text-align:left;">API Gateway がバックエンドにリクエストを中継してから、バックエンドからレスポンスを受け取るまでの時間 <br> Unit: Millisecond</td></tr> <tr><td style="text-align:center;">Latency</td> <td style="text-align:left;">API Gateway がクライアントからリクエストを受け取ってから、クライアントにレスポンスを返すまでの時間 <br> Unit: Millisecond</td></tr></tbody></table></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">10/31/2020, 1:53:42 PM</span></div></footer> <!----> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.1b378f6c.js" defer></script><script src="/assets/js/3.3bd2fb37.js" defer></script><script src="/assets/js/1.2384bd57.js" defer></script><script src="/assets/js/24.e72e74de.js" defer></script>
  </body>
</html>
