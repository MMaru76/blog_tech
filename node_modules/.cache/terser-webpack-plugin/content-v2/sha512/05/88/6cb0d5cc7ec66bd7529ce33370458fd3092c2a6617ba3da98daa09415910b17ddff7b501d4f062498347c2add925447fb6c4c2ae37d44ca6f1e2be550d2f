{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{497:function(s,t,a){\"use strict\";a.r(t);var e=a(4),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[a(\"h2\",{attrs:{id:\"背景\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#背景\"}},[s._v(\"#\")]),s._v(\" 背景\")]),s._v(\" \"),a(\"blockquote\",{staticClass:\"twitter-tweet\"},[a(\"p\",{attrs:{lang:\"ja\",dir:\"ltr\"}},[s._v(\"ECS EC2タイプのInstance_ID一覧が欲しい！まるちゃんお願い!!!\"),a(\"br\"),s._v(\"↓\"),a(\"br\"),s._v(\"良いよ｡\"),a(\"br\"),s._v(\"↓\"),a(\"br\"),s._v(\"出来た｡\"),a(\"br\"),s._v(\"↓\"),a(\"br\"),s._v(\"ごめんやっぱり不要だったわ｡\"),a(\"br\"),s._v(\"↓\"),a(\"br\"),s._v(\"ふぁ･･･←今ココ\"),a(\"br\"),a(\"br\"),s._v(\"会社で使われないし､日に当たる事も無いので｡\"),a(\"a\",{attrs:{href:\"https://t.co/hDp9DmumRL\"}},[s._v(\"https://t.co/hDp9DmumRL\")]),s._v(\" \"),a(\"a\",{attrs:{href:\"https://t.co/4YyXAczMN2\"}},[s._v(\"pic.twitter.com/4YyXAczMN2\")])]),s._v(\"— まるちゃんLv24@DevOps (@M_Maru76) \"),a(\"a\",{attrs:{href:\"https://twitter.com/M_Maru76/status/1313334595467714560?ref_src=twsrc%5Etfw\"}},[s._v(\"October 6, 2020\")])]),s._v(\" \"),a(\"script\",{attrs:{async:\"\",src:\"https://platform.twitter.com/widgets.js\",charset:\"utf-8\"}}),s._v(\" \"),a(\"h2\",{attrs:{id:\"事前準備\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#事前準備\"}},[s._v(\"#\")]),s._v(\" 事前準備\")]),s._v(\" \"),a(\"p\",[s._v(\"AWS CLI バージョン2が導入済み\")]),s._v(\" \"),a(\"div\",{staticClass:\"custom-block tip\"},[a(\"p\",[a(\"a\",{attrs:{href:\"https://tabiya.dev/blogs/aws/compute/amazon-linux2-cli.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"【EC2 AmazonLinux2】 AWS CLI バージョン 2 セットアップ\"),a(\"OutboundLink\")],1)])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"環境構築\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#環境構築\"}},[s._v(\"#\")]),s._v(\" 環境構築\")]),s._v(\" \"),a(\"table\",[a(\"thead\",[a(\"tr\",[a(\"th\",{staticStyle:{\"text-align\":\"center\"}},[s._v(\"項目\")]),s._v(\" \"),a(\"th\",{staticStyle:{\"text-align\":\"center\"}},[s._v(\"値\")])])]),s._v(\" \"),a(\"tbody\",[a(\"tr\",[a(\"td\",{staticStyle:{\"text-align\":\"center\"}},[s._v(\"CLUSTER_NAME_OR_ARN\")]),s._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"center\"}},[s._v(\"ECSのARN\")])]),s._v(\" \"),a(\"tr\",[a(\"td\",{staticStyle:{\"text-align\":\"center\"}},[s._v(\"ECS_SERVICE_NAME\")]),s._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"center\"}},[s._v(\"サービス名前\")])]),s._v(\" \"),a(\"tr\",[a(\"td\",{staticStyle:{\"text-align\":\"center\"}},[s._v(\"PROFILE\")]),s._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"center\"}},[s._v(\"--profile あなたのプロファイル\")])])])]),s._v(\" \"),a(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token shebang important\"}},[s._v(\"#!/bin/bash\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"export\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"CLUSTER_NAME_OR_ARN\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"ECSのARN\"')]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"export\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"ECS_SERVICE_NAME\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"サービス名前\"')]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"export\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"PROFILE\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"--profile あなたのプロファイル\"')]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"FILS\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"ALL_Container_Instance.log\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# ## 一覧\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# aws ecs $PROFILE list-tasks \\\\\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#  --cluster $CLUSTER_NAME_OR_ARN \\\\\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"#  --service-name $ECS_SERVICE_NAME > ${ECS_SERVICE_NAME}_LIST_tasks.log\")]),s._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"# ## タスクの詳細情報\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"export\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token assign-left variable\"}},[s._v(\"ECS_TASK_ARNS\")]),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"'),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$(\")]),s._v(\"aws ecs list-tasks \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n    --cluster $CLUSTER_NAME_OR_ARN \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n    --service-name $ECS_SERVICE_NAME \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n    --output text \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sed\")]),s._v(\" -e \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"'s/\\\\s/ /g'\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"cut\")]),s._v(\" -d \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"' '\")]),s._v(\" -f2 \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"tr\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"'\"),a(\"span\",{pre:!0,attrs:{class:\"token entity\",title:\"\\\\n\"}},[s._v(\"\\\\n\")]),s._v(\"'\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"' '\")]),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\")\")])]),s._v('\"')]),s._v(\"\\n\\naws ecs describe-tasks \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n    --cluster \"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$CLUSTER_NAME_OR_ARN\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n    --tasks \"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$(\")]),a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" $ECS_TASK_ARNS\"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\")\")])]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n    --output yaml \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"grep\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"containerInstanceArn\"')]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"awk\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"'{print substr(\"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$0\")]),s._v(\", 25)}'\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$FILS\")]),s._v(\"\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"echo\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$ECS_SERVICE_NAME\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">>\")]),s._v(\" Instances_List.log\\n\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"while\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"read\")]),s._v(\" line\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"do\")]),s._v(\"\\n    aws ecs \"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$PROFILE\")]),s._v(\" describe-container-instances \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n    --cluster \"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$CLUSTER_NAME_OR_ARN\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"\\\\\")]),s._v(\"\\n    --container-instances \"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$line\")]),s._v(\" --output yaml \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"|\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"grep\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"ec2InstanceId\"')]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\">>\")]),s._v(\" Instances_List.log\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token keyword\"}},[s._v(\"done\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"<\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"${FILS}\")]),s._v(\"\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"20\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"21\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"22\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"23\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"24\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"25\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"26\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"27\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"28\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"29\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"30\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"出力例\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#出力例\"}},[s._v(\"#\")]),s._v(\" 出力例\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[a(\"code\",[s._v(\"サービス名\\n  ec2InstanceId: i-IDだよ\\n  ec2InstanceId: i-IDだよ\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"参考にさせて頂いたサイト\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参考にさせて頂いたサイト\"}},[s._v(\"#\")]),s._v(\" 参考にさせて頂いたサイト\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"a\",{attrs:{href:\"https://docs.aws.amazon.com/cli/latest/reference/ecs/index.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"ecs — AWS CLI 1.18.154 Command Reference\"),a(\"OutboundLink\")],1)]),s._v(\" \"),a(\"li\",[a(\"a\",{attrs:{href:\"https://qiita.com/notakaos/items/eda64c3c38b17f181698\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"awscli ECS 関連コマンドメモ\"),a(\"OutboundLink\")],1)])])])}),[],!1,null,null,null);t.default=n.exports}}]);","extractedComments":[]}