{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{529:function(s,a,t){\"use strict\";t.r(a);var n=t(4),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[t(\"p\",[t(\"a\",{attrs:{href:\"https://gyazo.com/fa1721c7386d1badde157cfe2f388710\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t(\"img\",{attrs:{src:\"https://i.gyazo.com/fa1721c7386d1badde157cfe2f388710.jpg\",alt:\"Image from Gyazo\"}}),t(\"OutboundLink\")],1)]),s._v(\" \"),t(\"h2\",{attrs:{id:\"_1-はじめに\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-はじめに\"}},[s._v(\"#\")]),s._v(\" 1. はじめに\")]),s._v(\" \"),t(\"p\",[s._v(\"オンプレミス環境を想定していますが､クラウドサービス内でも構築可能です｡\")]),s._v(\" \"),t(\"p\",[s._v(\"その場合は､インストール等のコマンドが多少変わったりします｡(随時ググってください｡)\")]),s._v(\" \"),t(\"p\",[s._v(\"ゴールとしては､Docker コンテナの中で Minecraft サーバーを稼働して､ホストの中で Nginx を動作させます｡\")]),s._v(\" \"),t(\"hr\"),s._v(\" \"),t(\"h2\",{attrs:{id:\"_2-事前準備\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-事前準備\"}},[s._v(\"#\")]),s._v(\" 2. 事前準備\")]),s._v(\" \"),t(\"h3\",{attrs:{id:\"_2-1-オンプレミスの場合のみ\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-1-オンプレミスの場合のみ\"}},[s._v(\"#\")]),s._v(\" 2.1. オンプレミスの場合のみ\")]),s._v(\" \"),t(\"p\",[s._v(\"SELinux と Firewall は無効にします(\"),t(\"strong\",[s._v(\"必要な場合は､別途準備が必要です<作成中>\")]),s._v(\")｡\")]),s._v(\" \"),t(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sed\")]),s._v(\" -i -e \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"s/enforcing/disabled/g\"')]),s._v(\" /etc/selinux/config\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" systemctl stop firewalld \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" systemctl disable firewalld\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"reboot\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"_2-2-ポート公開一覧\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-2-ポート公開一覧\"}},[s._v(\"#\")]),s._v(\" 2.2. ポート公開一覧\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"80 : Certbot を実行する際に必須\")]),s._v(\" \"),t(\"li\",[s._v(\"443 : HTTPS ポート\")]),s._v(\" \"),t(\"li\",[s._v(\"25565 : Minecraft ポート\")])]),s._v(\" \"),t(\"hr\"),s._v(\" \"),t(\"h2\",{attrs:{id:\"_3-環境構築\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-環境構築\"}},[s._v(\"#\")]),s._v(\" 3. 環境構築\")]),s._v(\" \"),t(\"p\",[s._v(\"随時自分にあった物を入れてください｡\")]),s._v(\" \"),t(\"h3\",{attrs:{id:\"_3-1-必要パッケージのインストール\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-1-必要パッケージのインストール\"}},[s._v(\"#\")]),s._v(\" 3.1. 必要パッケージのインストール\")]),s._v(\" \"),t(\"ol\",[t(\"li\",[s._v(\"システムのアップデート\")]),s._v(\" \"),t(\"li\",[s._v(\"必要なパッケージのインストール\\n\"),t(\"ul\",[t(\"li\",[s._v(\"Python 3 系統\")]),s._v(\" \"),t(\"li\",[s._v(\"Git\")]),s._v(\" \"),t(\"li\",[s._v(\"Nginx\")])])]),s._v(\" \"),t(\"li\",[s._v(\"Docker インストールと起動\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" dnf -y upgrade\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" dnf module -y \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" python38\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" dnf \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" -y nginx \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"git\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"curl\")]),s._v(\" https://download.docker.com/linux/centos/docker-ce.repo -o /etc/yum.repos.d/docker-ce.repo\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sed\")]),s._v(\" -i -e \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"s/enabled=1/enabled=0/g\"')]),s._v(\" /etc/yum.repos.d/docker-ce.repo\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" dnf --enablerepo\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"docker-ce-stable -y \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"install\")]),s._v(\" docker-ce\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" systemctl \"),t(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"enable\")]),s._v(\" --now docker\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"_3-2-docker-のセットアップ\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-2-docker-のセットアップ\"}},[s._v(\"#\")]),s._v(\" 3.2. Docker のセットアップ\")]),s._v(\" \"),t(\"ol\",[t(\"li\",[s._v(\"Docker バージョン確認\\n\"),t(\"ul\",[t(\"li\",[t(\"code\",[s._v(\"docker-ce-20.10.2-3.el8.x86_64\")])])])]),s._v(\" \"),t(\"li\",[s._v(\"Docker Login をセットアップ\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"rpm\")]),s._v(\" -q docker-ce\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" docker login\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"_3-3-docker-compose-のセットアップ\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-3-docker-compose-のセットアップ\"}},[s._v(\"#\")]),s._v(\" 3.3. Docker Compose のセットアップ\")]),s._v(\" \"),t(\"ol\",[t(\"li\",[s._v(\"docker-compose のダウンロード\\n\"),t(\"ul\",[t(\"li\",[s._v(\"バージョンにあったものをDL -> https://github.com/docker/compose/releases/\")])])]),s._v(\" \"),t(\"li\",[s._v(\"アクセス権限を付与\")]),s._v(\" \"),t(\"li\",[s._v(\"一般ユーザーでも操作出来るように操作\\n\"),t(\"ul\",[t(\"li\",[s._v(\"ユーザー名 : ec2-user など\")])])])]),s._v(\" \"),t(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"curl\")]),s._v(\" -L https://github.com/docker/compose/releases/download/1.29.1/docker-compose-\"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$(\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"uname\")]),s._v(\" -s\"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\")\")])]),s._v(\"-\"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"$(\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"uname\")]),s._v(\" -m\"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\")\")])]),s._v(\" -o /usr/local/bin/docker-compose\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"chmod\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"755\")]),s._v(\" /usr/local/bin/docker-compose\\ndocker-compose --version\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"usermod\")]),s._v(\" -a -G docker ユーザー名\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"_3-4-ssl-のセットアップ\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-4-ssl-のセットアップ\"}},[s._v(\"#\")]),s._v(\" 3.4. SSL のセットアップ\")]),s._v(\" \"),t(\"ol\",[t(\"li\",[s._v(\"シンボリックリンクの設定\")]),s._v(\" \"),t(\"li\",[s._v(\"index.html ファイルを適当な場所に設置\")]),s._v(\" \"),t(\"li\",[s._v(\"証明書を取得\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"ln\")]),s._v(\" -s /snap/bin/certbot /usr/bin/certbot\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"mkdir\")]),s._v(\" -p /var/www/html\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" /var/www/html/index.html\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"sudo\")]),s._v(\" certbot certonly --webroot -w /var/www/html -d 任意のドメイン\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"_3-5-minecraft-のセットアップ\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-5-minecraft-のセットアップ\"}},[s._v(\"#\")]),s._v(\" 3.5. Minecraft のセットアップ\")]),s._v(\" \"),t(\"ol\",[t(\"li\",[s._v(\"docker-compose ファイルの作成\")]),s._v(\" \"),t(\"li\",[s._v(\"ファイルを定義\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vim\")]),s._v(\" ~/minecraft/docker-compose.yml\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"div\",{staticClass:\"language-yaml line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-yaml\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"version\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"'2'\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"services\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"minecraft-server\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"container_name\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" Minecraft_Spigot_01\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"image\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" itzg/minecraft\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"server\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"ports\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"8123:8123\"')]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v('# - \"19132:19132/udp\" # 統合版 用のポート')]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"25565:25565\"')]),s._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"tty\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token boolean important\"}},[s._v(\"true\")]),s._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"stdin_open\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token boolean important\"}},[s._v(\"true\")]),s._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"restart\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" always\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"volumes\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" ./vol01\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"/vol\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"environment\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"EULA\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"TRUE\"')]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"VERSION\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"1.16.4\"')]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"TYPE\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"SPIGOT\"')]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"MAX_MEMORY\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"4G\"')]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),t(\"br\")])]),t(\"h4\",{attrs:{id:\"_3-5-1-各項目に対する軽い解説\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-5-1-各項目に対する軽い解説\"}},[s._v(\"#\")]),s._v(\" 3.5.1. 各項目に対する軽い解説\")]),s._v(\" \"),t(\"p\",[s._v(\"詳しい説明は､【\"),t(\"a\",{attrs:{href:\"https://github.com/itzg/docker-minecraft-server\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"docker-minecraft-server\"),t(\"OutboundLink\")],1),s._v(\"】を閲覧\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v('EULA: \"TRUE\"\\n'),t(\"ul\",[t(\"li\",[s._v(\"同意\")])])]),s._v(\" \"),t(\"li\",[s._v('VERSION: \"1.16.4\"\\n'),t(\"ul\",[t(\"li\",[s._v(\"プレイしたいバージョン\")])])]),s._v(\" \"),t(\"li\",[s._v('TYPE: \"SPIGOT\"\\n'),t(\"ul\",[t(\"li\",[s._v(\"プレイしたいタイプを選択\")])])]),s._v(\" \"),t(\"li\",[s._v('MAX_MEMORY: \"4G\"\\n'),t(\"ul\",[t(\"li\",[s._v(\"どれだけメモリを割り当てるかを指定\")])])])]),s._v(\" \"),t(\"hr\"),s._v(\" \"),t(\"h2\",{attrs:{id:\"_4-minecraft-server-コマンド\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-minecraft-server-コマンド\"}},[s._v(\"#\")]),s._v(\" 4. Minecraft Server コマンド\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"起動コマンド\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[t(\"code\",[s._v(\"docker-compose -f /home/ユーザー名/minecraft/docker-compose.yml up -d\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"ul\",[t(\"li\",[s._v(\"停止コマンド\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[t(\"code\",[s._v(\"docker-compose -f /home/ユーザー名/minecraft/docker-compose.yml down\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"hr\"),s._v(\" \"),t(\"h2\",{attrs:{id:\"_5-オプション編\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-オプション編\"}},[s._v(\"#\")]),s._v(\" 5. オプション編\")]),s._v(\" \"),t(\"p\",[s._v(\"ココからは､完全にオプションです｡\")]),s._v(\" \"),t(\"h3\",{attrs:{id:\"_5-1-自動起動-停止の設定\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-1-自動起動-停止の設定\"}},[s._v(\"#\")]),s._v(\" 5.1. 自動起動/停止の設定\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"作業とバックアップディレクトリを作成\")])]),s._v(\" \"),t(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"mkdir\")]),s._v(\" ~/work ~/be_minecraft\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"ul\",[t(\"li\",[s._v(\"起動スクリプトの準備\\n\"),t(\"ul\",[t(\"li\",[t(\"code\",[s._v(\"vim ~/work/minecraft_start.sh\")])]),s._v(\" \"),t(\"li\",[s._v(\"(使っていない)\")])])])]),s._v(\" \"),t(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token shebang important\"}},[s._v(\"#!/bin/bash\")]),s._v(\"\\ndocker-compose -f /home/ユーザー名/minecraft/docker-compose.yml up -d\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"ul\",[t(\"li\",[s._v(\"停止スクリプトの準備\\n\"),t(\"ul\",[t(\"li\",[t(\"code\",[s._v(\"vim ~/work/minecraft_stop.sh\")])]),s._v(\" \"),t(\"li\",[s._v(\"(使っていない)\")])])])]),s._v(\" \"),t(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token shebang important\"}},[s._v(\"#!/bin/bash\")]),s._v(\"\\ndocker-compose -f /home/ユーザー名/minecraft/docker-compose.yml down\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"ul\",[t(\"li\",[s._v(\"バックアップスクリプトの準備\\n\"),t(\"ul\",[t(\"li\",[t(\"code\",[s._v(\"vim ~/work/minecraft_bc.sh\")])])])])]),s._v(\" \"),t(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token shebang important\"}},[s._v(\"#!/bin/bash\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"tar\")]),s._v(\" cvzf /home/ユーザー名/be_minecraft/vanilla_\"),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"`\")]),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"date\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"+%Y%m%d_%H%M%S\"')]),t(\"span\",{pre:!0,attrs:{class:\"token variable\"}},[s._v(\"`\")])]),s._v(\".tar.gz /home/ユーザー名/minecraft/vol01/\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"ul\",[t(\"li\",[s._v(\"ログの削除スクリプトの準備\\n\"),t(\"ul\",[t(\"li\",[t(\"code\",[s._v(\"vim ~/work/minecraft_log_del.sh\")])])])])]),s._v(\" \"),t(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token shebang important\"}},[s._v(\"#!/bin/bash\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"rm\")]),s._v(\" -fr /home/ユーザー名/minecraft/vol01/logs/*\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"ul\",[t(\"li\",[s._v(\"Cron の設定\\n\"),t(\"ul\",[t(\"li\",[s._v(\"【0時】と【12時】に再起動\\n\"),t(\"ul\",[t(\"li\",[s._v(\"00:00/12:00 : サーバー停止\")]),s._v(\" \"),t(\"li\",[s._v(\"00:03/12:03 : バックアップ\")]),s._v(\" \"),t(\"li\",[s._v(\"00:08/12:08 : ログファイルの削除\")]),s._v(\" \"),t(\"li\",[s._v(\"00:10/12:10 : サーバー起動\")])])])])])]),s._v(\" \"),t(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"crontab\")]),s._v(\" -e\\n\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0\")]),s._v(\" * * * /usr/local/bin/docker-compose -f /home/ユーザー名/minecraft/docker-compose.yml down\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"3\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0\")]),s._v(\" * * * /bin/bash /home/ユーザー名/work/minecraft_bc.sh\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"8\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0\")]),s._v(\" * * * /bin/bash /home/ユーザー名/work/minecraft_log_del.sh\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"10\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0\")]),s._v(\" * * * /usr/local/bin/docker-compose -f /home/ユーザー名/minecraft/docker-compose.yml up -d\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"0\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"12\")]),s._v(\" * * * /usr/local/bin/docker-compose -f /home/ユーザー名/minecraft/docker-compose.yml down\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"3\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"12\")]),s._v(\" * * * /bin/bash /home/ユーザー名/work/minecraft_bc.sh\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"8\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"12\")]),s._v(\" * * * /bin/bash /home/ユーザー名/work/minecraft_log_del.sh\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"10\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"12\")]),s._v(\" * * * /usr/local/bin/docker-compose -f /home/ユーザー名/minecraft/docker-compose.yml up -d\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"==\")]),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"=\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"_5-2-dynmap-を-https-で見たい\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-2-dynmap-を-https-で見たい\"}},[s._v(\"#\")]),s._v(\" 5.2. Dynmap を HTTPS で見たい\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"HTTPS へ強制リダイレクト用のファイルを準備\\n\"),t(\"ul\",[t(\"li\",[t(\"code\",[s._v(\"vim /etc/nginx/conf.d/minecraft.conf\")])])])])]),s._v(\" \"),t(\"div\",{staticClass:\"language-less line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-less\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token selector\"}},[s._v(\"server\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"\\n  listen 80\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n  return 301 \"),t(\"span\",{pre:!0,attrs:{class:\"token property\"}},[s._v(\"https\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"//$host$request_uri;\")]),s._v(\"\\n  server_name ドメイン名\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n\\n  \"),t(\"span\",{pre:!0,attrs:{class:\"token selector\"}},[s._v(\"location /map/\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"\\n    proxy_pass \"),t(\"span\",{pre:!0,attrs:{class:\"token property\"}},[s._v(\"http\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"//localhost:8123/;\")]),s._v(\"\\n  \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\")])]),t(\"ul\",[t(\"li\",[s._v(\"HTTPS ファイルの準備\\n\"),t(\"ul\",[t(\"li\",[t(\"code\",[s._v(\"vim /etc/nginx/conf.d/minecraft_ssl.conf\")])])])])]),s._v(\" \"),t(\"div\",{staticClass:\"language-less line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-less\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token selector\"}},[s._v(\"server\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"\\n  ssl_certificate  \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"/\")]),s._v(\"etc\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"/\")]),s._v(\"letsencrypt\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"/\")]),s._v(\"live\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"/\")]),s._v(\"ドメイン名\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"/\")]),s._v(\"fullchain.pem\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n  ssl_certificate_key  \"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"/\")]),s._v(\"etc\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"/\")]),s._v(\"letsencrypt\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"/\")]),s._v(\"live\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"/\")]),s._v(\"ドメイン名\"),t(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[s._v(\"/\")]),s._v(\"privkey.pem\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\";\")]),s._v(\"\\n\\n  \"),t(\"span\",{pre:!0,attrs:{class:\"token selector\"}},[s._v(\"location /map/\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"{\")]),s._v(\"\\n    proxy_pass \"),t(\"span\",{pre:!0,attrs:{class:\"token property\"}},[s._v(\"http\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v(\"//localhost:8123/;\")]),s._v(\"\\n  \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"}\")]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\")])]),t(\"h3\",{attrs:{id:\"_5-3-ルーターが再起動して-ip-が変わった時の自動化\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-3-ルーターが再起動して-ip-が変わった時の自動化\"}},[s._v(\"#\")]),s._v(\" 5.3. ルーターが再起動して IP が変わった時の自動化\")]),s._v(\" \"),t(\"p\",[t(\"a\",{attrs:{href:\"https://dev.classmethod.jp/articles/route53-record-ip-change-by-aws-cli/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[s._v(\"【Route53】EC2 から自身に付与されたパブリックIP を Route53 に設定したい\"),t(\"OutboundLink\")],1)]),s._v(\" \"),t(\"h3\",{attrs:{id:\"_5-4-newrelic-の導入手順\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-4-newrelic-の導入手順\"}},[s._v(\"#\")]),s._v(\" 5.4. NewRelic の導入手順\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[s._v(\"docker ファイルの準備\\n\"),t(\"ul\",[t(\"li\",[t(\"code\",[s._v(\"vim ~/minecraft/newrelic-infra.dockerfile\")])])])])]),s._v(\" \"),t(\"div\",{staticClass:\"language-yaml line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-yaml\"}},[t(\"code\",[s._v(\"FROM newrelic/infrastructure\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"latest\\nADD newrelic\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"infra.yml /etc/newrelic\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"infra.yml\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\")])]),t(\"ul\",[t(\"li\",[s._v(\"ライセンスキー用のファイルを準備\\n\"),t(\"ul\",[t(\"li\",[t(\"code\",[s._v(\"vim ~/minecraft/newrelic-infra.yml\")])])])])]),s._v(\" \"),t(\"div\",{staticClass:\"language-yaml line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-yaml\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"license_key\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" ライセンスキーを入力\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"ul\",[t(\"li\",[s._v(\"docker-compose の編集\\n\"),t(\"ul\",[t(\"li\",[t(\"code\",[s._v(\"vim ~/minecraft/docker-compose.yml\")])])])])]),s._v(\" \"),t(\"div\",{staticClass:\"language-yaml line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-yaml\"}},[t(\"code\",[t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"version\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"'2'\")]),s._v(\"\\n\"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"services\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"agent\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"container_name\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" Minecraft_NewRelic_01\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"build\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"context\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" .\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"dockerfile\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" newrelic\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"infra.dockerfile\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"cap_add\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" SYS_PTRACE\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"network_mode\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" host\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"pid\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" host\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"privileged\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token boolean important\"}},[s._v(\"true\")]),s._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"volumes\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"/:/host:ro\"')]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"/var/run/docker.sock:/var/run/docker.sock\"')]),s._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"restart\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" unless\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"stopped\\n\\n    \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"minecraft-server\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"container_name\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" Minecraft_Spigot_01\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"image\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" itzg/minecraft\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\"server\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"ports\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"8123:8123\"')]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[s._v('# - \"19132:19132/udp\"')]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"25565:25565\"')]),s._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"tty\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token boolean important\"}},[s._v(\"true\")]),s._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"stdin_open\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token boolean important\"}},[s._v(\"true\")]),s._v(\"\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"restart\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" always\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"volumes\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" ./vol01\"),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"/vol\\n        \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"environment\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"EULA\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"TRUE\"')]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"VERSION\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"1.16.4\"')]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"TYPE\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"SPIGOT\"')]),s._v(\"\\n            \"),t(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"MAX_MEMORY\")]),t(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" \"),t(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v('\"4G\"')]),s._v(\"\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"20\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"21\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"22\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"23\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"24\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"25\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"26\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"27\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"28\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"29\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"30\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"31\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"32\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"33\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"34\")]),t(\"br\")])])])}),[],!1,null,null,null);a.default=e.exports}}]);","extractedComments":[]}